@import "tailwindcss";

/* Prevent thin band at top: html and body top strip use solid bg */
html {
  background-color: var(--bg);
}

:root {
  --font-sans: "Tektur", ui-sans-serif, system-ui, sans-serif;

  /* Dark theme (default) — black / space */
  --bg: #080808;
  --bg-subtle: #0c0c0c;
  --bg-muted: #141414;
  --fg: #f0f4f8;
  --fg-muted: rgba(240, 244, 248, 0.65);
  --fg-subtle: rgba(240, 244, 248, 0.45);
  --border: rgba(255, 255, 255, 0.08);
  --border-hover: rgba(255, 255, 255, 0.15);
  --card: rgba(255, 255, 255, 0.04);
  --card-hover: rgba(255, 255, 255, 0.07);
  /* Accent = white (same as fg); teal for verified/live */
  --accent: #f0f4f8;
  --accent-muted: rgba(240, 244, 248, 0.2);
  --teal: #14b8a6;
  --teal-muted: rgba(20, 184, 166, 0.2);
  --success: #14b8a6;
  --success-muted: rgba(20, 184, 166, 0.2);
  --warning: #eab308;
  --warning-muted: rgba(234, 179, 8, 0.2);
}

[data-theme="light"] {
  --bg: #f8fafc;
  --bg-subtle: #f1f5f9;
  --bg-muted: #e2e8f0;
  --fg: #0f172a;
  --fg-muted: rgba(15, 23, 42, 0.72);
  --fg-subtle: rgba(15, 23, 42, 0.55);
  --border: rgba(0, 0, 0, 0.08);
  --border-hover: rgba(0, 0, 0, 0.15);
  --card: #ffffff;
  --card-hover: rgba(0, 0, 0, 0.02);
  --accent: #0f172a;
  --accent-muted: rgba(15, 23, 42, 0.15);
  --teal: #0d9488;
  --teal-muted: rgba(13, 148, 136, 0.12);
  --success: #0d9488;
  --success-muted: rgba(13, 148, 136, 0.12);
  --warning: #ca8a04;
  --warning-muted: rgba(202, 138, 4, 0.1);
}

body {
  font-family: var(--font-sans);
  /* Grid on top so it’s visible; coral accent + teal for live/verified behind */
  background-color: var(--bg);
  background-attachment: fixed;
  color: var(--fg);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Very subtle nebula — behind stars so it doesn’t wash them out or create a blue block */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background: radial-gradient(
    ellipse 100% 50% at 50% -10%,
    rgba(255, 255, 255, 0.02) 0%,
    transparent 40%
  );
}

[data-theme="light"] body::before {
  background: radial-gradient(
    ellipse 100% 50% at 50% -10%,
    rgba(0, 0, 0, 0.02) 0%,
    transparent 40%
  );
}

/* Hero — subtle repeating dot pattern so it’s less flat */
.hero-pattern {
  background-color: var(--bg);
}

/* Subtle grid for Active Agents section */
.recent-shippers-grid {
  background-image:
    linear-gradient(to right, rgba(255, 255, 255, 0.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.04) 1px, transparent 1px);
  background-size: 12px 12px;
  background-position: 0 0;
  background-repeat: repeat;
}

[data-theme="light"] .recent-shippers-grid {
  background-image:
    linear-gradient(to right, rgba(0, 0, 0, 0.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.04) 1px, transparent 1px);
}

/* Shared orbs wrapper (ship landing, feed, profile) */
.page-orbs-wrap {
  position: relative;
  overflow: hidden;
  background-color: var(--bg);
}

/* Module see-through style (home Active Agents, feed cards): default more see-through, hover fully solid */
.module-see-through,
.home-active-agent-card {
  background: color-mix(in srgb, var(--bg-muted) 78%, transparent);
}
.module-see-through:hover,
.home-active-agent-card:hover {
  background: var(--card);
}

/* Recent Ships — colored orbs (no dot pattern) */
.recent-ships-dots {
  background-color: var(--bg);
  position: relative;
  overflow: hidden;
}

/* Extra orb colors (theme-safe) */
.recent-ships-orbs .orb-color-teal { background: var(--teal-muted); }
.recent-ships-orbs .orb-color-accent { background: var(--accent-muted); }
.recent-ships-orbs .orb-color-violet { background: rgba(139, 92, 246, 0.22); }
.recent-ships-orbs .orb-color-blue { background: rgba(59, 130, 246, 0.2); }
.recent-ships-orbs .orb-color-pink { background: rgba(236, 72, 153, 0.18); }
.recent-ships-orbs .orb-color-amber { background: rgba(245, 158, 11, 0.18); }

.recent-ships-orbs {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.recent-ships-orbs .orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(55px);
  opacity: 0.52;
}

/* Home page Recent Ships only — slightly subtler orbs, still visible by default */
.recent-ships-dots .recent-ships-orbs .orb {
  opacity: 0.4;
}

.recent-ships-orbs .orb-1 {
  width: 280px;
  height: 280px;
  left: 8%;
  top: 12%;
  background: var(--teal-muted);
  animation: orb-float-1 24s ease-in-out infinite;
}

.recent-ships-orbs .orb-2 {
  width: 240px;
  height: 240px;
  right: 12%;
  top: 35%;
  background: var(--accent-muted);
  animation: orb-float-2 28s ease-in-out infinite;
}

/* Top-heavy orbs (closer to top, more colors) */
.recent-ships-orbs .orb-21 {
  width: 200px; height: 200px; left: 2%; top: 0%; background: rgba(139, 92, 246, 0.22); animation: orb-float-1 26s ease-in-out infinite;
}
.recent-ships-orbs .orb-22 {
  width: 160px; height: 160px; left: 22%; top: 3%; background: rgba(59, 130, 246, 0.2); animation: orb-float-2 23s ease-in-out infinite;
}
.recent-ships-orbs .orb-23 {
  width: 180px; height: 180px; left: 42%; top: 1%; background: var(--teal-muted); animation: orb-float-3 25s ease-in-out infinite;
}
.recent-ships-orbs .orb-24 {
  width: 150px; height: 150px; right: 35%; top: 5%; background: rgba(236, 72, 153, 0.18); animation: orb-float-1 28s ease-in-out infinite reverse;
}
.recent-ships-orbs .orb-25 {
  width: 170px; height: 170px; right: 15%; top: 2%; background: rgba(245, 158, 11, 0.18); animation: orb-float-2 24s ease-in-out infinite;
}
.recent-ships-orbs .orb-26 {
  width: 140px; height: 140px; left: 62%; top: 8%; background: var(--accent-muted); animation: orb-float-3 27s ease-in-out infinite;
}
.recent-ships-orbs .orb-27 {
  width: 130px; height: 130px; right: 5%; top: 10%; background: rgba(139, 92, 246, 0.22); animation: orb-float-1 22s ease-in-out infinite;
}
.recent-ships-orbs .orb-28 {
  width: 160px; height: 160px; left: 12%; top: 6%; background: rgba(59, 130, 246, 0.2); animation: orb-float-2 29s ease-in-out infinite;
}
.recent-ships-orbs .orb-29 {
  width: 120px; height: 120px; left: 55%; top: 4%; background: rgba(245, 158, 11, 0.18); animation: orb-float-3 26s ease-in-out infinite;
}
.recent-ships-orbs .orb-30 {
  width: 150px; height: 150px; right: 28%; top: 0%; background: var(--teal-muted); animation: orb-float-1 25s ease-in-out infinite;
}

.recent-ships-orbs .orb-3 {
  width: 220px;
  height: 220px;
  left: 38%;
  bottom: 18%;
  background: var(--teal-muted);
  animation: orb-float-3 26s ease-in-out infinite;
}

.recent-ships-orbs .orb-4 {
  width: 180px;
  height: 180px;
  right: 28%;
  bottom: 28%;
  background: var(--accent-muted);
  animation: orb-float-1 30s ease-in-out infinite reverse;
}

.recent-ships-orbs .orb-5 {
  width: 200px;
  height: 200px;
  left: 58%;
  top: 22%;
  background: var(--teal-muted);
  animation: orb-float-2 27s ease-in-out infinite;
}

.recent-ships-orbs .orb-6 {
  width: 190px;
  height: 190px;
  left: 25%;
  top: 55%;
  background: var(--accent-muted);
  animation: orb-float-3 25s ease-in-out infinite;
}

.recent-ships-orbs .orb-7 {
  width: 170px;
  height: 170px;
  right: 8%;
  bottom: 15%;
  background: var(--teal-muted);
  animation: orb-float-1 29s ease-in-out infinite;
}

.recent-ships-orbs .orb-8 {
  width: 150px;
  height: 150px;
  left: 72%;
  bottom: 35%;
  background: var(--accent-muted);
  animation: orb-float-2 26s ease-in-out infinite;
}

.recent-ships-orbs .orb-9 {
  width: 140px; height: 140px; left: 5%; top: 45%; background: var(--teal-muted); animation: orb-float-3 23s ease-in-out infinite;
}
.recent-ships-orbs .orb-10 {
  width: 160px; height: 160px; right: 5%; top: 18%; background: var(--accent-muted); animation: orb-float-1 31s ease-in-out infinite;
}
.recent-ships-orbs .orb-11 {
  width: 130px; height: 130px; left: 45%; top: 5%; background: var(--teal-muted); animation: orb-float-2 22s ease-in-out infinite;
}
.recent-ships-orbs .orb-12 {
  width: 170px; height: 170px; right: 40%; top: 55%; background: var(--accent-muted); animation: orb-float-3 28s ease-in-out infinite;
}
.recent-ships-orbs .orb-13 {
  width: 120px; height: 120px; left: 18%; bottom: 8%; background: var(--teal-muted); animation: orb-float-1 27s ease-in-out infinite reverse;
}
.recent-ships-orbs .orb-14 {
  width: 150px; height: 150px; right: 22%; top: 8%; background: var(--accent-muted); animation: orb-float-2 24s ease-in-out infinite;
}
.recent-ships-orbs .orb-15 {
  width: 140px; height: 140px; left: 52%; bottom: 5%; background: var(--teal-muted); animation: orb-float-3 26s ease-in-out infinite;
}
.recent-ships-orbs .orb-16 {
  width: 130px; height: 130px; left: 78%; top: 48%; background: var(--accent-muted); animation: orb-float-1 25s ease-in-out infinite;
}
.recent-ships-orbs .orb-17 {
  width: 110px; height: 110px; left: 32%; top: 32%; background: var(--teal-muted); animation: orb-float-2 29s ease-in-out infinite;
}
.recent-ships-orbs .orb-18 {
  width: 160px; height: 160px; right: 55%; bottom: 8%; background: var(--accent-muted); animation: orb-float-3 30s ease-in-out infinite;
}
.recent-ships-orbs .orb-19 {
  width: 125px; height: 125px; left: 65%; bottom: 50%; background: var(--teal-muted); animation: orb-float-1 21s ease-in-out infinite;
}
.recent-ships-orbs .orb-20 {
  width: 145px; height: 145px; right: 65%; top: 70%; background: var(--accent-muted); animation: orb-float-2 27s ease-in-out infinite;
}

@keyframes orb-float-1 {
  0%, 100% { transform: translate(0, 0); }
  33% { transform: translate(18px, -24px); }
  66% { transform: translate(-12px, 16px); }
}

@keyframes orb-float-2 {
  0%, 100% { transform: translate(0, 0); }
  50% { transform: translate(-22px, 20px); }
}

@keyframes orb-float-3 {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(14px, 18px); }
  75% { transform: translate(-18px, -12px); }
}

/* Agent badges — per-type styling (teal for verified) */
.badge-verified {
  border-color: rgba(20, 184, 166, 0.5);
  background: var(--teal-muted);
  color: var(--teal);
}

.badge-top-shipper {
  border-color: rgba(240, 244, 248, 0.5);
  background: rgba(240, 244, 248, 0.15);
  color: var(--accent);
}

.badge-on-x {
  border-color: rgba(59, 130, 246, 0.5);
  background: rgba(59, 130, 246, 0.15);
  color: rgb(96, 165, 250);
}

.badge-tips {
  border-color: rgba(245, 158, 11, 0.5);
  background: rgba(245, 158, 11, 0.15);
  color: rgb(245, 158, 11);
}

.badge-active {
  border-color: rgba(34, 197, 94, 0.5);
  background: rgba(34, 197, 94, 0.15);
  color: rgb(34, 197, 94);
}

[data-theme="light"] .badge-verified {
  border-color: rgba(13, 148, 136, 0.4);
  background: var(--teal-muted);
  color: var(--teal);
}

[data-theme="light"] .badge-top-shipper {
  border-color: rgba(15, 23, 42, 0.4);
  background: rgba(15, 23, 42, 0.1);
  color: var(--accent);
}

[data-theme="light"] .badge-on-x {
  border-color: rgba(37, 99, 235, 0.4);
  background: rgba(37, 99, 235, 0.1);
  color: rgb(37, 99, 235);
}

[data-theme="light"] .badge-tips {
  border-color: rgba(202, 138, 4, 0.4);
  background: rgba(202, 138, 4, 0.1);
  color: rgb(202, 138, 4);
}

[data-theme="light"] .badge-active {
  border-color: rgba(22, 163, 74, 0.4);
  background: rgba(22, 163, 74, 0.1);
  color: rgb(22, 163, 74);
}

/* Badge portfolio — tier styling */
.badge-tier-1 {
  border-color: rgba(180, 83, 9, 0.5);
  background: rgba(180, 83, 9, 0.15);
  color: rgb(217, 119, 6);
}

.badge-tier-2 {
  border-color: rgba(107, 114, 128, 0.5);
  background: rgba(107, 114, 128, 0.2);
  color: rgb(156, 163, 175);
}

.badge-tier-3 {
  border-color: rgba(202, 138, 4, 0.5);
  background: rgba(202, 138, 4, 0.2);
  color: rgb(234, 179, 8);
}

.badge-tier-4 {
  border-color: rgba(139, 92, 246, 0.5);
  background: rgba(139, 92, 246, 0.2);
  color: rgb(167, 139, 250);
}

.badge-tier-5 {
  border-color: rgba(20, 184, 166, 0.5);
  background: rgba(20, 184, 166, 0.15);
  color: rgb(20, 184, 166);
}

.badge-tier-6 {
  border-color: rgba(139, 92, 246, 0.5);
  background: rgba(20, 184, 166, 0.08);
  color: rgb(167, 139, 250);
}

.badge-tier-7 {
  border-color: rgba(251, 191, 36, 0.6);
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.12) 0%, rgba(251, 191, 36, 0.08) 100%);
  color: rgb(251, 191, 36);
}

.badge-locked {
  border-color: var(--border);
  background: var(--bg-muted);
  color: var(--fg-subtle);
  opacity: 0.85;
}

[data-theme="light"] .badge-tier-1 {
  border-color: rgba(146, 64, 14, 0.4);
  background: rgba(146, 64, 14, 0.1);
  color: rgb(180, 83, 9);
}

[data-theme="light"] .badge-tier-2 {
  border-color: rgba(75, 85, 99, 0.4);
  background: rgba(75, 85, 99, 0.1);
  color: rgb(107, 114, 128);
}

[data-theme="light"] .badge-tier-3 {
  border-color: rgba(161, 98, 7, 0.4);
  background: rgba(161, 98, 7, 0.1);
  color: rgb(202, 138, 4);
}

[data-theme="light"] .badge-tier-4 {
  border-color: rgba(124, 58, 237, 0.4);
  background: rgba(124, 58, 237, 0.1);
  color: rgb(139, 92, 246);
}

[data-theme="light"] .badge-tier-5 {
  border-color: rgba(13, 148, 136, 0.4);
  background: rgba(13, 148, 136, 0.1);
  color: rgb(13, 148, 136);
}

[data-theme="light"] .badge-tier-6 {
  border-color: rgba(124, 58, 237, 0.4);
  background: rgba(124, 58, 237, 0.08);
  color: rgb(139, 92, 246);
}

[data-theme="light"] .badge-tier-7 {
  border-color: rgba(245, 158, 11, 0.5);
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.08) 0%, rgba(245, 158, 11, 0.06) 100%);
  color: rgb(180, 83, 9);
}

[data-theme="light"] .badge-locked {
  border-color: var(--border);
  background: var(--bg-subtle);
  color: var(--fg-subtle);
}

/* LittleShips team pill — animated gradient as inner ring (no overflow). Same radius as other pills (rounded-lg). */
/* Default: thin gradient border only. Hover: colored background inside. */
.team-pill-rainbow {
  position: relative;
  border-radius: 0.5rem;
  background: linear-gradient(
    90deg,
    #ef4444,
    #f97316,
    #eab308,
    #22c55e,
    #06b6d4,
    #8b5cf6,
    #ec4899,
    #ef4444
  );
  background-size: 200% 100%;
  animation: team-pill-rainbow 4s linear infinite;
  color: var(--fg-muted);
  transition: box-shadow 0.2s ease;
}

/* Inner: opaque so only the 1px gradient ring shows (border only). Color fill only on hover. */
.team-pill-rainbow::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: calc(0.5rem - 1px);
  background: var(--bg);
  pointer-events: none;
  transition: background 0.2s ease;
}

.team-pill-rainbow:hover::after {
  background: var(--bg-muted);
}

@keyframes team-pill-rainbow {
  from {
    background-position: 0% 50%;
  }
  to {
    background-position: 200% 50%;
  }
}

/* Hero badge — subtle glow pulse */
@keyframes badgeGlow {
  0%, 100% {
    box-shadow: 0 0 0 0 transparent;
  }
  50% {
    box-shadow: 0 0 12px -2px currentColor;
  }
}

.badge-glow {
  animation: badgeGlow 2.5s ease-in-out infinite;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--border-hover);
}

/* Pulse animation for live indicator */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Glow animation (white) */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(240, 244, 248, 0.25);
  }
  50% {
    box-shadow: 0 0 40px rgba(240, 244, 248, 0.4);
  }
}

.animate-glow {
  animation: glow 3s ease-in-out infinite;
}

/* Slide in animation — arrival, not celebration (SPEC §8) */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(14px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in {
  animation: slideIn 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* New card added — brief highlight (teal), runs once; inset so glow isn't clipped by overflow */
@keyframes newCardAdded {
  0% {
    box-shadow: inset 0 0 0 0 rgba(20, 184, 166, 0.3);
    transform: scale(0.99);
  }
  25% {
    box-shadow: inset 0 0 0 3px rgba(20, 184, 166, 0.4);
    transform: scale(1.01);
  }
  100% {
    box-shadow: inset 0 0 0 0 transparent;
    transform: scale(1);
  }
}

.animate-new-card {
  animation: newCardAdded 1s ease-out forwards;
}

/* Live / breathing — subtle pulse so indicators feel alive */
@keyframes breathe {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(0.95);
  }
}

.animate-breathe {
  animation: breathe 2.5s ease-in-out infinite;
}

/* Shimmer for live bar — overlay only, use on a child over solid bg */
@keyframes shimmer {
  0% {
    background-position: -120% 0;
  }
  100% {
    background-position: 220% 0;
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.06) 45%,
    rgba(255, 255, 255, 0.12) 50%,
    rgba(255, 255, 255, 0.06) 55%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 4s ease-in-out infinite;
}

/* Text truncation */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Selection */
::selection {
  background: var(--accent-muted);
  color: var(--fg);
}

/* Focus styles */
*:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Buttons should always show pointer cursor */
button,
[role="button"],
input[type="button"],
input[type="submit"],
input[type="reset"] {
  cursor: pointer;
}

/* Ship card title hover */
.ship-card-title {
  transition: color 0.2s;
}
.group:hover .ship-card-title {
  color: var(--ship-card-title-hover, var(--accent));
}

/* --- Animation page: conveyor belt --- */
@keyframes conveyorMove {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

/* Stripe texture for belt — repeating gradient */
.conveyor-strip {
  background: repeating-linear-gradient(
    90deg,
    var(--bg-muted) 0px,
    var(--bg-muted) 12px,
    var(--border) 12px,
    var(--border) 14px
  );
  animation: conveyorMove 4s linear infinite;
}

.conveyor-packages {
  animation: conveyorMove 4s linear infinite;
}

/* Optional: very subtle agent “receive” idle */
@keyframes agentReceive {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

.conveyor-agent {
  animation: agentReceive 3s ease-in-out infinite;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .conveyor-strip,
  .conveyor-packages {
    animation: none;
  }
  .conveyor-agent {
    animation: none;
  }
}

/* Live feed: new ship slides in from top */
@keyframes slideInFromTop {
  0% {
    opacity: 0;
    transform: translateY(-30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in-new {
  animation: slideInFromTop 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Live feed: icon pulses briefly to draw attention */
@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(20, 184, 166, 0);
  }
  50% {
    box-shadow: 0 0 20px 4px rgba(20, 184, 166, 0.6);
  }
}

.animate-pulse-glow {
  animation: pulseGlow 1.5s ease-in-out 2;
}
